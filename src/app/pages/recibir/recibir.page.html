<app-header titulo="Recibir Auto"></app-header>

<ion-content class="ion-padding" >
    <ion-router-outlet class="relleno" id="mani"></ion-router-outlet>
    <ion-card class="card">
        
        <form #formulario="ngForm" (ngSubmit)="onSubmit(formulario)">
            <ion-list-header  class="ion-align-items-center">
                    <ion-label class="ion-text">{{Valet}}</ion-label>
                    <br>
            </ion-list-header>
            <br>
            <br>
            <br>
            <ion-item>
                <ion-label>Fecha Entrada</ion-label>
                <ion-input type="text" placeholder="{{fechaRe | date: 'short'}}"></ion-input>
                
            </ion-item>
            <ion-item  >
                <ion-label>Establecimiento: </ion-label>
                <ion-select ngModel name="id_comercios" >
                    <ion-select-option  *ngFor="let comers of comercios" value="{{comers['id']}}"  >{{comers['nombre']}}</ion-select-option>
                </ion-select>
            </ion-item>
            <br>
            <br>
            <ion-item >
                <ion-label position="floating">Placas<ion-text color="danger">*</ion-text></ion-label>
                <ion-input required 
                            ngModel 
                            type="text"
                            name="placas">
                </ion-input>
            </ion-item>
            <br>
            <br>
            <ion-item>
                <ion-label position="floating">Descripción <ion-text color="danger">*</ion-text></ion-label>
                <ion-input type="text" 
                        placeholder="Añadir una Descripción" 
                        ngModel 
                        name="descripcion">
                </ion-input>
            </ion-item>
            <br>
            <br>
            <ion-button (click)="addPhotoGallery()" class="btn" >
                <ion-icon slot="icon-only" name="camera"></ion-icon> Tomar Foto
            </ion-button>
                <br>
                <br>
                <ion-grid>
                    <ion-row>
                        <ion-col size="6" *ngFor="let photocar of photoService.photos; index as position">
                            <ion-img ngModel name="{{photocar.filepath}}" id="{{photocar.webviewPath}}" [src]="photocar.webviewPath"></ion-img>
                        </ion-col>
                    </ion-row>
                </ion-grid>
                <br>
                <br>
                <ion-button class="btn" color="primary" [disabled]="formulario.invalid" type="submit">
                Generar Ticket
            </ion-button>
        </form>
    </ion-card>
</ion-content>
